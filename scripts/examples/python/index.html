<html>
  <head>
    <title>XenAPI python examples</title>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8"/>
    <link type="text/css" rel="stylesheet" href="../../docs/html/userguide.css" media="all"/>
  </head>
  <body>

<h2>
Introduction
</h2>
   This file describes the python examples included in the 
   <a href="../../index.html">Software Development Kit</a> (SDK) for the 
   <a href="http://www.xensource.com/">XenServer 4.0 product family</a>.

<h2>XenAPI python examples</h2>

Note the examples all make use of the library XenAPI.py (<a href="XenAPI.py.html">[ browse ]</a>
<a href="XenAPI.py">[ download ]</a>) and provision.py (<a href="provision.py.html">[ browse ]</a>
<a href="provision.py">[ download ]</a>).

<h3>install.py</h3>
<a href="install.py.html">[ browse ]</a>
<a href="install.py">[ download ]</a>
<p>
This example chooses a Debian template and installs a VM from it, placing
      disks on the Pool's default SR. It adds a VIF connecting the VM
      to a network on the host and boots the VM. The script blocks until
      the guest agent has reported both the OS version and eth0's IP address.

<h3>powercycle.py</h3>
<a href="powercycle.py.html">[ browse ]</a>
<a href="powercycle.py">[ download ]</a>
<p>
This example lists all existing VMs, shuts them down and then performs some
      aggressive power-cycling on each one.

<h3>permute.py</h3>
<a href="permute.py.html">[ browse ]</a>
<a href="permute.py">[ download ]</a>
<p>
This example finds a set of running VMs, finds the hosts on which the VMs are
running, permutes the list of hosts and then simultaneously migrates each VM to
the chosen new host. The program waits for all parallel migration tasks to complete before
continuing. <b>NB</b> this program
requires an extra argument: an integer number of iterations.

<h3>vm_start_async.py</h3>
<a href="vm_start_async.py.html">[ browse ]</a>
<a href="vm_start_async.py">[ download ]</a>
<p>
This example demonstrates the asyncronous operation support by starting a VM
      named "new" (which must already exist and be halted), retrieving
      a task reference and displaying the instantaneous task status

<h3>watch-all-events.py</h3>
<a href="watch-all-events.py.html">[ browse ]</a>
<a href="watch-all-events.py">[ download ]</a>
<p>
This example demonstrates using the event system by registering for events on
     all classes and pretty-printing them as they are received.

<h3>fixpbds.py</h3>
<a href="fixpbds.py.html">[ browse ]</a>
<a href="fixpbds.py">[ download ]</a>
<p>
This example shows how to alter the device config parameters of PBD objects, useful
if your storage server configuration has changed.

<h3>shell.py</h3>
<a href="shell.py.html">[ browse ]</a>
<a href="shell.py">[ download ]</a>
<p>
This example creates a python interactive shell with access to the bindings for
     experimentation.

<h3>license.py</h3>
<a href="license.py.html">[ browse ]</a>
<a href="license.py">[ download ]</a>
<p>
This example demonstrates how to upload a license file to a server. It expects the
license to be contained within the file &quot;license&quot; in the current directory.

<h3>Invoking the examples</h3>

Each program takes 3 commandline arguments:
<p>
<ul>
<li>url - an https or http URL pointing at the server
<li>username - a valid user on the server (eg root)
<li>password
</ul>
<p>
For example:
<pre>
./install.py https://localhost:443/ root letmein
</pre>

</body>
</html>